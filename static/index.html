<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8" />
	<title>日报生成</title>
</head>

<body>
	<div id="app" v-cloak>

		{{target_date}}

		<input v-model="target_date" type="date" />

		<button @click="generateDialy">生成日报</button>
	</div>

	<script type="module">
		import {
			createApp,
			ref,
		} from "https://unpkg.com/vue@3/dist/vue.esm-browser.js";

		createApp({
			setup() {

				const target_date = ref('')

				const generateDialy = () => {
					fetch(`/daily?date=${target_date.value}`, {
						method: "GET",
						headers: {
							"Content-Type": "application/json",
						},
					})
				}

				return {
					generateDialy,
					target_date
				};
			},
		}).mount("#app");
	</script>
</body>

</html>